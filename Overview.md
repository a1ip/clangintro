###Общие сведения

Программы на языке Си обычно состоят из большого числа отдельных функций (подпрограмм). Как правило, эти функции имеют небольшие размеры и могут находиться как в одном, так и в нескольких файлах. Все функции являются глобальными. В языке запрещено определять одну функцию внутри другой. Связь между функциями осуществляется через аргументы, возвращаемые значения и внешние переменные.

В общем случае функции в языке Си необходимо объявлять. Объявление функции (т.е. описание заголовка) должно предшествовать ее использованию, а определение функции (т.е. полное описание) может быть помещено как после тела программы (т.е. функции `main( )`), так и до него. Если функция определена до тела программы, а также до ее вызовов из определений других функций, то объявление может отсутствовать. Как уже отмечалось, описание заголовка функции обычно называют прототипом функции.

Функция объявляется следующим образом:

```c
тип имя_функции(тип имя_параметра_1, тип имя_параметра_2, ...);
```

Тип функции определяет тип значения, которое возвращает функция. Если тип не указан, то предполагается, что функция возвращает целое значение (`int`).

При объявлении функции для каждого ее параметра можно указать только его тип (например: тип функция (`int`, `float`, ...), а можно дать и его имя (например: тип функция (`int а`, `float b`, ...) ).

В языке Си разрешается создавать функции с переменным числом параметров. Тогда при задании прототипа вместо последнего из них указывается многоточие.

Определение функции имеет следующий вид:

```c
тип имя_функции(тип имя_параметра_1, тип имя_параметра_2,...)
{
    тело функции
}
```

Передача значения из вызванной функции в вызвавшую происходит с помощью оператора возврата `return`, который записывается следующим образом:

```c
return выражение;
```

Таких операторов в подпрограмме может быть несколько, и тогда они фиксируют соответствующие точки выхода. Например:

```c
int f(int a, int b)
{
    if (a > b) { printf("max = %d\n", a); return a; }
    printf("max = %d\n", b); return b;
}
```

Вызвать эту функцию можно следующим образом:

```c
c = f(15, 5);
c = f(d, g);
f(d, g);
```

Вызвавшая функция может, при необходимости, игнорировать возвращаемое значение. После слова `return` можно ничего не записывать; в этом случае вызвавшей функции никакого значения не передается. Управление передается вызвавшей функции и в случае выхода "по концу" (последняя закрывающая фигурная скобка).

В языке Си аргументы функции передаются по значению, т.е. вызванная функция получает свою временную копию каждого аргумента, а не его адрес. Это означает, что вызванная функция не может изменить значение переменной вызвавшей ее программы. Однако это легко сделать, если передавать в функцию не переменные, а их адреса. Например:

```c
void swap(int *a, int *b)
{
    int *tmp = *a;

    *a = *b;
    *b = *tmp;
}
```

Вызов `swap(&b, &c)` (здесь подпрограмме передаются адреса переменных `b` и `с`) приведет к тому, что значения переменных `b` и `c` поменяются местами.

Если же в качестве аргумента функции используется имя массива, то передается только адрес начала массива, а сами элементы не копируются. Функция может изменять элементы массива, сдвигаясь (индексированием) от его начала.

Рассмотрим, как функции можно передать массив в виде параметра. Здесь возможны три варианта:

1.  Параметр задается как массив (например: `int m[100];`).
2.  Параметр задается как массив без указания его размерности (например: `int m[];`).
3.  Параметр задается как указатель (например: `int *m;`). Этот вариант используется наиболее часто.

Независимо от выбранного варианта вызванной функции передается указатель на начало массива. Сами же элементы массива не копируются.

Если некоторые переменные, константы, массивы, структуры объявлены как глобальные, то их не надо включать в список параметров вызванной функции.
