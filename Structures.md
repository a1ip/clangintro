###Структуры

Структура - это объединение одного или нескольких объектов (переменных, массивов, указателей, других структур и т.д.). Как и массив, она представляет собой совокупность данных. Отличием является то, что к ее элементам необходимо обращаться по имени и что различные элементы структуры не обязательно должны принадлежать одному типу.

Объявление структуры осуществляется с помощью ключевого слова `struct`, за которым идет ее тип и далее список элементов, заключенных в фигурные скобки:

```c
struct тип { тип элемента_1 имя элемента_1;
                    .........
             тип элемента_n имя элемента_n;
           };
```

Именем элемента может быть любой идентификатор. Как и выше, в одной строке можно записывать через запятую несколько идентификаторов одного типа.

Рассмотрим пример:

```c
sruct date { int day;
    int month;
    int year;
};
```

Следом за фигурной скобкой, заканчивающей список элементов, могут записываться переменные данного типа, например:

```c
struct date {...} a, b, c;
```

(при этом выделяется соответствующая память). Описание без последующего списка не выделяет никакой памяти; оно просто задает форму структуры. Введенное имя типа позже можно использовать для объявления структуры, например:

```c
struct date days;
```

Теперь переменная `days` имеет тип `date`.

При необходимости структуры можно инициализировать, помещая вслед за описанием список начальных значений элементов.

Разрешается вкладывать структуры друг в друга, например:

```c
struct man { char name[20], fam[20];
             struct date bd;
             int age;
            };
```

Определенный выше тип data включает три элемента: `day`, `month`, `year`, содержащий целые значения (`int`). Структура man включает элементы `name`, `fam`, `bd` и `voz`. Первые два - `name[20]` и `fam[20]` - это символьные массивы из `20` элементов каждый. Переменная `bd` представлена составным элементом (вложенной структурой) типа `data`. Элемент `age` содержит значения целого типа (`int`). Теперь можно определить переменные, значения которых принадлежат введенному типу:

```c
struct man man_[100];
```

Здесь определен массив `man_`, состоящий из `100` структур типа `man`.

Чтобы обратиться к отдельному элементу структуры, необходимо указать его имя, поставить точку и сразу же за ней записать имя нужного элемента, например:

```c
man_[j].age = 19;
man_[j].bd.day = 24;
man_[j].bd.month = 2
man_[j].bd.year = 1987;
```

При работе со структурами необходимо помнить, что тип элемента определяется соответствующей строкой описания в фигурных скобках. Например, массив `man_` имеет тип `man`, `year` является целым числом и т.п. Поскольку каждый элемент структуры относится к определенному типу, его имя может появиться везде, где разрешено использование значений этого типа. Допускаются конструкции вида `man_[i]=man_[j];` где `man_[i]` и `man_[j]` - объекты, соответствующие единому описанию структуры. Другими словами, разрешается присваивать одну структуру другой по их именам.

Унарная операция `&` позволяет взять адрес структуры. Предположим, что определена переменная `day`:

```c
struct date {int d, m, у;} day;
```

Здесь `day` - это структура типа `date`, включающая три элемента: `d`, `m`, `у`. Другое определение

```c
struct date *db;
```

устанавливает тот факт, что `db` - это указатель на структуру типа `date`.

Запишем выражение:

```c
db = &day;
```

В этом случае для выбора элементов `d`, `m`, `у` структуры необходимо использовать конструкции:

```c
(*db).d; (*db).m; (*db).y;
```

Действительно, `db` - это адрес структуры, `*db` - сама структура. Круглые скобки здесь необходимы, так как точка имеет более высокий, чем звездочка, приоритет. Для аналогичных целей в языке Си предусмотрена специальная операция `->`. Эта операция выбирает элемент структуры и позволяет представить рассмотренные выше конструкции в более простом виде:

```c
db -> d; db -> m; db -> у;
```