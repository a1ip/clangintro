##ОПЕРАЦИИ И ОПЕРАТОРЫ

###Операции языка Си

Любое выражение языка состоит из операндов (переменных, констант и др.), соединенных знаками операций. Знак операции - это символ или группа символов, которые сообщают компилятору о необходимости выполнения определенных арифметических, логических или других действий.

Операции выполняются в строгой последовательности. Величина, определяющая преимущественное право на выполнение той или иной операции, называется приоритетом. В табл. 2 перечислены различные операции языка Си. Их приоритеты для каждой группы одинаковы (группы выделены цветом). Чем большим преимуществом пользуется соответствующая группа операций, тем выше она расположена в таблице. Порядок выполнения операций может регулироваться с помощью круглых скобок.

Таблица 2                              

<center>

<table border="1" cellspacing="1" cellpadding="3"><caption></caption>

<tbody>

<tr>

<td align="center">Знак операции</td>

<td align="center">Назначение операции</td>

</tr>

<tr>

<td align="center">( )</td>

<td>Вызов функции</td>

</tr>

<tr>

<td align="center">[ ]</td>

<td>Выделение элемента массива</td>

</tr>

<tr>

<td align="center">.</td>

<td>Выделение элемента записи</td>

</tr>

<tr>

<td align="center">-&gt;</td>

<td>Выделение элемента записи</td>

</tr>

<tr>

<td align="center">!</td>

<td>Логическое отрицание</td>

</tr>

<tr>

<td align="center">~</td>

<td>Поразрядное отрицание</td>

</tr>

<tr>

<td align="center">-</td>

<td>Изменение знака</td>

</tr>

<tr>

<td align="center">++</td>

<td>Увеличение на единицу</td>

</tr>

<tr>

<td align="center">--</td>

<td>Уменьшение на единицу</td>

</tr>

<tr>

<td align="center">&</td>

<td>Взятие адреса</td>

</tr>

<tr>

<td align="center">*</td>

<td>Обращение по адресу</td>

</tr>

<tr>

<td align="center">(тип)</td>

<td>Преобразование типа (т.е. (float) a)</td>

</tr>

<tr>

<td align="center">sizeof( )</td>

<td>Определение размера в байтах</td>

</tr>

<tr>

<td align="center">*</td>

<td>Умножение</td>

</tr>

<tr>

<td align="center">/</td>

<td>Деление</td>

</tr>

<tr>

<td align="center">%</td>

<td>Определение остатка от деления</td>

</tr>

<tr>

<td align="center">+</td>

<td>Сложение</td>

</tr>

<tr>

<td align="center">-</td>

<td>Вычитание</td>

</tr>

<tr>

<td align="center">&lt;&lt;</td>

<td>Сдвиг влево</td>

</tr>

<tr>

<td align="center">&gt;&gt;</td>

<td>Сдвиг вправо</td>

</tr>

<tr>

<td align="center">&lt;</td>

<td>Меньше, чем</td>

</tr>

<tr>

<td align="center">&lt;=</td>

<td>Меньше или равно</td>

</tr>

<tr>

<td align="center">&gt;</td>

<td>Больше, чем</td>

</tr>

<tr>

<td align="center">&gt;=</td>

<td>Больше или равно</td>

</tr>

<tr>

<td align="center">==</td>

<td>Равно</td>

</tr>

<tr>

<td align="center">!=</td>

<td>Не равно</td>

</tr>

<tr>

<td align="center">&</td>

<td>Поразрядное логическое "И"</td>

</tr>

<tr>

<td align="center">^</td>

<td>Поразрядное исключающее "ИЛИ"</td>

</tr>

<tr>

<td align="center">|</td>

<td>Поразрядное логическое "ИЛИ"</td>

</tr>

<tr>

<td align="center">&&</td>

<td>Логическое "И"</td>

</tr>

<tr>

<td align="center">||</td>

<td>Логическое "ИЛИ"</td>

</tr>

<tr>

<td align="center">?:</td>

<td>Условная (тернарная) операция</td>

</tr>

<tr>

<td align="center">=</td>

<td>Присваивание</td>

</tr>

<tr>

<td align="center">+=, - =, *=, /=, %=, &lt;&lt;=,
&gt;&gt;=, &=, |=, ^=</td>

<td>Составные операции присваивания (например, а *= b
(т.е. a = a * b) и т.д.)</td>

</tr>

<tr>

<td align="center">,</td>

<td>Операция запятая</td>

</tr>

</tbody>

</table>

</center>

Для исключения путаницы в понятиях "операция" и "оператор", отметим, что оператор - это наименьшая исполняемая единица программы. Различают операторы выражения, действие которых состоит в вычислении заданных выражений (например: `a = sin(b)+c; j++;`), операторы объявления, составные операторы, пустые операторы, операторы метки, цикла и т.д. Для обозначения конца оператора в языке Си используется точка с запятой. Что касается составного оператора (или блока), представляющего собой набор логически связанных операторов, помещенных между открывающей (`{`) и закрывающей (`}`) фигурными скобками ("операторными скобками"), то за ним точка с запятой не ставится. Отметим, что блок отличается от составного оператора наличием определений в теле блока.

Охарактеризуем основные операции языка Си. Сначала рассмотрим одну из них - операцию присваивания (`=`). Выражение вида

```c
х = у;
```

присваивает переменной х значение переменной у. Операцию "=" разрешается использовать многократно в одном выражении, например:

```c
x = y = z = 100;
```

Различают _унарные_ и _бинарные операции_. У первых из них один операнд, а у вторых - два. Начнем их рассмотрение с операций, отнесенных к первой из следующих традиционных групп:

1.  Арифметические операции.
2.  Логические операции и операции отношения.
3.  Операции с битами.

Арифметические операции задаются следующими символами (табл. 2): `+`, `-`, `*`, `/`, `%`. Последнюю из них нельзя применять к переменным вещественного типа. Например:

```c
a = b + c;
x = y - z;
r = t * v;
s = k / l;
p = q % w;
```

Логические операции отношения задаются следующими символами (см. табл. 2): `&&` ("И"), `||` ("ИЛИ"), `!` ("НЕ"), `>`, `>=`, `<`, `<=` , `==` (равно), `!=` (не равно). Традиционно эти операции должны давать одно из двух значений: истину или ложь. В языке Си принято следующее правило: истина - это любое ненулевое значение; ложь - это нулевое значение. Выражения, использующие логические операции и операции отношения, возвращают `0` для ложного значения и `1` для истинного. Ниже приводится таблица истинности для логических операций.

Таблица 3                                                    

<center>

<table border="1" cellspacing="1" cellpadding="3" width="30%"><caption></caption>

<tbody>

<tr>

<td align="center">x</td>

<td align="center">y</td>

<td align="center">x&&y</td>

<td align="center">x||y</td>

<td align="center">!x</td>

</tr>

<tr>

<td align="center">0</td>

<td align="center">0</td>

<td align="center">0</td>

<td align="center">0</td>

<td align="center">1</td>

</tr>

<tr>

<td align="center">0</td>

<td align="center">1</td>

<td align="center">0</td>

<td align="center">1</td>

<td align="center">1</td>

</tr>

<tr>

<td align="center">1</td>

<td align="center">0</td>

<td align="center">0</td>

<td align="center">1</td>

<td align="center">0</td>

</tr>

<tr>

<td align="center">1</td>

<td align="center">1</td>

<td align="center">1</td>

<td align="center">1</td>

<td align="center">0</td>

</tr>

</tbody>

</table>

</center>

Битовые операции можно применять к переменным, имеющим типы `int`, `char`, а также их вариантам (например, `long int`). Их нельзя применять к переменным типов `float`, `double`, `void` (или более сложных типов). Эти операции задаются следующими символами: `~` (поразрядное отрицание), `<<` (сдвиг влево), `>>` (сдвиг вправо), `&` (поразрядное "И"), `^` (поразрядное исключающее "ИЛИ"), `|` (поразрядное "ИЛИ").

Примеры: если `a = 0000 1111` и `b = 1000 1000`, то

```c
~a = 1111 0000,
a << 1 = 0001 1110,
a >> 1 = 0000 0111,
a & b  = 0000 1000,
a ^ b  = 1000 0111,
a | b  = 1000 1111.
```

В языке предусмотрены две нетрадиционные операции инкремента (`++`) и декремента (`--`). Они предназначены для увеличения и уменьшения на единицу значения операнда. Операции `++` и `--` можно записывать как перед операндом, так и после него. В первом случае (`++n` или `--n`) значение операнда (`n`) изменяется перед его использованием в соответствующем выражении, а во втором (`n++` или `n--`) - после его использования. Рассмотрим две следующие строки программы:

```c
a = b + c++;
a1 = b1 +  ++c1;
```

Предположим, что `b = b1 = 2`, `c = c1 = 4`\. Тогда после выполнения операций: `a = 6`, `b = 2`, `c = 5`, `a1 = 7`, `b1 = 2`, `c1 = 5`\.

Широкое распространение находят также выражения с еще одной нетрадиционной тернарной или условной операцией `?:`. В формуле

```c
y = x ? a: b;
```

`y = a`, если `x` не равно нулю (т.е. истинно), и `y = b`, если `х` равно нулю (ложно). Следующее выражение

```c
y = (a>b) ? a: b;
```

позволяет присвоить переменной у значение большей переменной (`а` или `b`), т.е. `y = max(a, b)`.

Еще одним отличием языка является то, что выражение вида `а = а + 5;` можно записать в другой форме: `a += 5;`. Вместо знака + можно использовать и символы других бинарных операций (см. табл. 2).

Другие операции из табл. 2 будут описаны в последующих параграфах.